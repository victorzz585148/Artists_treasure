DELIMITER //

CREATE TRIGGER COL_THEME_CATCH
BEFORE INSERT ON COLLECTION
FOR EACH ROW
BEGIN
    DECLARE theme_name VARCHAR(30);
    SET theme_name = NEW.COL_THEME;
    IF NOT EXISTS (SELECT 1 FROM THEME WHERE TE_NAME = theme_name) THEN
        INSERT INTO THEME (TE_NAME) VALUES (theme_name);
    END IF;
END //

CREATE TRIGGER AK_THEME_CATCH
BEFORE INSERT ON ARTWORK
FOR EACH ROW
BEGIN
    DECLARE theme_name VARCHAR(30);
    SET theme_name = NEW.AK_THEME;
    IF NOT EXISTS (SELECT 1 FROM THEME WHERE TE_NAME = theme_name) THEN
        INSERT INTO THEME (TE_NAME) VALUES (theme_name);
    END IF;
END //
DELIMITER ;
